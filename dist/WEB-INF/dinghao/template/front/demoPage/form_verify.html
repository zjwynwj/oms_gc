<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>basic styles</title>
<link rel="stylesheet" type="text/css" href="../css/common.css">
<link rel="stylesheet" type="text/css" href="../css/global.css">
<script src="../js/jquery-1.8.3.min.js"></script>
<script src="../js/newsArea.js"></script>
<script src="../js/areaSec.js"></script>
<script src="../js/verify.js"></script>
</head>

<body>
<div class="m-detail-con f-clearfix">
<form id="verifyCon">
    <ul class="m-message-list">
        <li><label>用户名：</label><input type="text" class="u-ipt u-ipt-lg verify" verifyData="{type:'userName',length:'1,5' ,required:'no'}" /></li>
        <li><label>金额：</label><input type="text" class="u-ipt u-ipt-lg verify" value="58.62" verifyData="{type:'money'}"/></li>
        <li><label>邮箱：</label><input type="text" class="u-ipt u-ipt-lg verify" verifyData="{type:'email',required:'no'}"/></li>
        <li><label>网址：</label><input type="text" class="u-ipt u-ipt-lg verify" verifyData="{type:'url',required:'no'}"/></li>
        <li><label>手机号码：</label><input type="text" class="u-ipt u-ipt-lg verify" value="15158133984" verifyData="{type:'mobile'}"/></li>
        <li><label>固定电话：</label><input type="text" class="u-ipt u-ipt-lg verify" verifyData="{type:'tel'}"/></li>
        <li><label>身份证号码：</label><input type="text" class="u-ipt u-ipt-lg verify" verifyData="{type:'myCard',required:'no'}"/></li>
        <li><label>邮编：</label><input type="text" class="u-ipt u-ipt-lg verify" verifyData="{type:'postcode'}"/></li>
        <li><label>省市区选择:</label><input value="请选择城市" type="text" class="u-ipt u-ipt-lg" readonly id="testArea" autocomplete="off"></li>
        <li style="width:100%; padding:10px 0 0 128px;"><a href="javascript:" id="button" class="u-btn u-btn-auto u-btn-bg-blue f-mr15">验证全部表单</a></li>
    </ul>
</form>
</div>
<script>
$(function(){
	var getInputs = $('#verifyCon').find('input[type=text]').filter('.verify');	 //得到表单中所有的input
	getInputs.blur(function(){
		var $this = $(this);
		getReadyverify($this);	
	})
	//提交按钮
	$('#button').click(function(){
		for(var i = 0; i < getInputs.length; i++){
			var $this = getInputs.eq(i);
			getReadyverify($this);
			if($this.hasClass("v_Error")){
				alert("验证不成功，请返回！");
				$this.focus();
				return false;
			}
		}
		return;
	})
	
	//省市区选择
	$.areaSelect({
		id:'testArea'
	});

})
</script>
</body>
</html>
