<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>全选按钮</title>
    <link rel="stylesheet" type="text/css" href="../css/common.css">
    <script type="text/javascript" src="../js/jquery-1.8.3.min.js"></script>
<style type="text/css">
.wrap{width: 600px;margin: 100px auto;border: 1px solid #e3e3e3;padding: 20px;}
.wrap .check-all{vertical-align: -2px;margin-right: 5px;}
.check-p{border-top: 1px solid #e3e3e3;margin-top: 15px;}
.check-p .check{margin-top: 20px;margin-right: 40px;}
</style>
</head>
<body>
    <div class='wrap'>
        <label><input type="checkbox" class="check-all">全选</label>
        <div class='check-p'>
            <input type="checkbox" class="check">
            <input type="checkbox" class="check">
            <input type="checkbox" class="check">
            <input type="checkbox" class="check">
            <input type="checkbox" class="check">
            <input type="checkbox" class="check">
            <input type="checkbox" class="check">
            <input type="checkbox" class="check">
            <input type="checkbox" class="check">
        </div>
    </div>
<script type="text/javascript">
$(function(){
    var check_btns = $('.check-p .check');
    /* 全选按钮 */
    checkAll($('.check-all'), check_btns);
})

/* 
checkAll:全选按钮
check:选择按钮
*/
function checkAll(checkAll, check) {
    $(checkAll).click(function() {
        if ( this.checked == true ) {
            $(check).each(function() {
                $(this).attr('checked', true);
            });
        } else {
            $(check).each(function() {
                $(this).attr('checked', false);
            });
        };
    });
    $(check).each(function(){
        $(this).click(function() {
            if ( $(this).is(':checked') ) {
                var sign = true;
                for (var i = 0; i < check.length; i++) {
                    if ($(check)[i].checked == true) {
                        sign = true;
                    } else {
                        sign = false;
                        break;
                    };
                };
                if (sign == true) {
                    $(checkAll).attr('checked', true);
                };
            } else if ( !$(this).is(':checked') && $(checkAll).is(':checked') ) {
                $(checkAll).attr('checked', false);
            };
            
        });
    });

}
</script>
</body>
</html>
